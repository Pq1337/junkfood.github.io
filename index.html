<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ã‚¸ãƒ£ãƒ³ã‚¯ãƒ•ãƒ¼ãƒ‰1337</title>
  <link rel="stylesheet" href="style.css" />
  <link href="https://fonts.googleapis.com/css2?family=Archivo+Black&display=swap" rel="stylesheet" />
  <link rel="icon" href="icon.ico" type="image/png" />
</head>

<body>
  <audio id="bg-music" preload="metadata"></audio>

  <button id="music-btn" class="music-btn is-off" type="button" aria-label="toggle music">
    <span class="label label-on">Music: ON</span>
    <span class="label label-off">Music: OFF</span>
  </button>

  
  <div class="music-controls" id="music-controls">
    <div class="now-playing" id="nowPlaying">Now Playing: -</div>

    <div class="row mini-row">
      <button id="prevBtn" class="mini-btn" type="button" aria-label="previous track">â®</button>
      <button id="playBtn" class="mini-btn" type="button" aria-label="play/pause">â–¶</button>
      <button id="nextBtn" class="mini-btn" type="button" aria-label="next track">â­</button>

      <button id="shuffleBtn" class="mini-btn toggle on" type="button" aria-label="shuffle">ğŸ”€</button>
      <button id="repeatBtn" class="mini-btn toggle" type="button" aria-label="repeat">ğŸ”</button>
    </div>

    <div class="row">
      <span id="curTime">0:00</span>
      <input id="progress" type="range" min="0" max="100" value="0" step="0.1" aria-label="music progress" />
      <span id="durTime">0:00</span>
    </div>

    <div class="row volume-row">
      <span>ğŸ”ˆ</span>
      <input id="volume" type="range" min="0" max="1" value="1" step="0.01" aria-label="volume" />
      <span>ğŸ”Š</span>
    </div>
  </div>

  <video id="background-video" autoplay muted loop playsinline>
    <source src="wallpaper1.mp4" type="video/mp4" />
  </video>
  <div class="card-wrap">
  <div class="card">
    <img src="avatar.png" class="avatar" id="cardAvatar" alt="Avatar" />

    <h1 class="title" id="cardName">Welcome to ã‚¸ãƒ£ãƒ³ã‚¯ãƒ•ãƒ¼ãƒ‰1337's official website</h1>
    <h2 class="subtitle" id="cardSubtitle">I'll introduce myself?</h2>

    <h2 class="introduction">ğŸ‘¤ About Me</h2>

    <h3 class="section-title">1. Hobbies</h3>
    <p class="section-text" id="cardHobby">hobbies? Nah, I just wanna lie on my cozy bed.</p>

    <h3 class="section-title">2. Skills</h3>
    <p class="section-text" id="cardSkills">I can play a nice HvH game on my dogshit laptop with 30 FPS?</p>

    <h3 class="section-title">3. Motto</h3>
    <p class="del-one" id="cardMotto1">Eat junk food, stay up late, and cheat in games.</p>
    <p class="section-text" id="cardMotto2">Trust in urself, u are the best!</p>

    <h2 class="section-title">ğŸ“¬ Contact</h2>

    <div class="contact-grid">
      <div class="contact-box">
        <span class="contact-label">QQ:</span>
        <span class="contact-value" id="cardQQ" title="é»æ“Šè¤‡è£½">2073095729</span>
      </div>

      <div class="contact-box">
        <span class="contact-label">Email:</span>
        <span class="contact-value" id="cardEmail" title="é»æ“Šè¤‡è£½">yzxdsb123@gmail.com</span>
      </div>

      <div class="contact-box">
        <span class="contact-label">Discord:</span>
        <span class="contact-value" id="cardDiscord" title="é»æ“Šè¤‡è£½">yyyuuu_38459</span>
      </div>
    </div>
    <div class="side-switch" aria-hidden="false">
      <button id="changePersonBtn" class="side-btn" type="button">
        åˆ‡æ›è³‡æ–™
      </button>
    </div>
    <div class="extra-section">
      <button id="fmi-btn" class="fmi-btn" type="button">
        For More Information
        <span class="arrow">â–¼</span>
      </button>
      <div id="extra-content" class="extra-content" aria-hidden="true">
        <a id ="cardBili" class="BL" target="_blank" rel="noopener noreferrer"></a>
        <a id="cardIG" class="BL" target="_blank" rel="noopener noreferrer"></a>
        <a id="cardX" class="BL" target="_blank" rel="noopener noreferrer"></a>
      </div>
    </div>
  </div>
</div>
  <div id="subtitleBox" class="subtitle-box hidden">
    <span id="subtitleText"></span>
  </div>

  <footer class="footer">
    Â© <span id="year"></span> JF1337
  </footer>

  <script>
    const music = document.getElementById("bg-music");
    const bigBtn = document.getElementById("music-btn");
    const prevBtn = document.getElementById("prevBtn");
    const playBtn = document.getElementById("playBtn");
    const nextBtn = document.getElementById("nextBtn");
    const shuffleBtn = document.getElementById("shuffleBtn");
    const repeatBtn = document.getElementById("repeatBtn");
    const nowPlaying = document.getElementById("nowPlaying");

    const subtitleBox = document.getElementById("subtitleBox");
    const subtitleText = document.getElementById("subtitleText");

    const progress = document.getElementById("progress");
    const volume = document.getElementById("volume");
    const curTime = document.getElementById("curTime");
    const durTime = document.getElementById("durTime");

    const fmiBtn = document.getElementById("fmi-btn");
    const extraContent = document.getElementById("extra-content");
    const arrow = document.querySelector(".arrow");

    document.getElementById("year").textContent = new Date().getFullYear();
    async function parseLRC(url, offset = 0) {
      const res = await fetch(url);
      if (!res.ok) throw new Error(`Failed to fetch LRC: ${url} (${res.status})`);
      const text = await res.text();

      const lines = text.split(/\r?\n/);
      const entries = [];
      for (let raw of lines) {
        const line = (raw || "").trim();
        if (!line) continue;

        const timeTags = [...line.matchAll(/\[(\d+):(\d+(?:\.\d+)?)\]/g)];
        if (!timeTags.length) continue;

        const content = line.replace(/\[(\d+):(\d+(?:\.\d+)?)\]/g, "").trim();
        for (const m of timeTags) {
          const min = parseInt(m[1], 10);
          const sec = parseFloat(m[2]);
          const t = Math.max(0, min * 60 + sec + offset);
          entries.push({ time: t, text: content });
        }
      }

      entries.sort((a, b) => a.time - b.time);

      const subs = entries.map((item, i) => ({
        start: item.time,
        end: entries[i + 1] ? entries[i + 1].time : item.time + 5,
        text: item.text || "â€¦"
      }));

      return subs;
    }

    async function getSubsForTrack(track) {
      if (track && track.lrc) {
        try {
          return await parseLRC(track.lrc, Number(track.offset || 0));
        } catch (e) {
          console.warn("LRC load failed, fallback to built-in subs:", e);
          return track.subs || [];
        }
      }
      return (track && track.subs) ? track.subs : [];
    }

    const playlist = [
      {
        title: "Si Tu Vois Ma MÃ¨re",
        src: "music disk.flac",
        subs: [
          { start: 0.0, end: 4.5, text: "æ­¤æ­Œæ›²ç‚ºæ²’æœ‰å¡«è©çš„ç´”éŸ³æ¨‚ï¼Œè«‹æ‚¨æ¬£è³" },
          { start: 4.5, end: 9.0, text: "Music brings the page to life." },
          { start: 9.0, end: 14.0, text: "Enjoy :P" },
        ],
      },
      { title: "AnRainå®‰æ— - æ˜Ÿæ²³ä¸åŠä½ ", src: "music3.ogg", subs:
       [{ start: 0.0, end: 4.5, text: "æ­¤æ­Œæ›²ç‚ºæ²’æœ‰å¡«è©çš„ç´”éŸ³æ¨‚ï¼Œè«‹æ‚¨æ¬£è³" },
          { start: 4.5, end: 9.0, text: "Do ya like soft music?" },
          { start: 9.0, end: 14.0, text: "Enjoy :P" },
        ],
      },
      { title: "Wthegg - Wingsï¼You Are My Future", src: "music4.ogg", subs: 
      [{ start: 0.0, end: 4.5, text: "æ­¤æ­Œæ›²ç‚ºæ²’æœ‰å¡«è©çš„ç´”éŸ³æ¨‚ï¼Œè«‹æ‚¨æ¬£è³" },
          { start: 4.5, end: 9.0, text: "Best one" },
          { start: 9.0, end: 14.0, text: "Enjoy :P" },
        ],
      },
      { title: "ä¸‰è‘‰ã®ãƒ†ãƒ¼ãƒ", src: "music1.flac", subs: [
        { start: 0.0, end: 4.5, text: "æ­¤æ­Œæ›²ç‚ºæ²’æœ‰å¡«è©çš„ç´”éŸ³æ¨‚ï¼Œè«‹æ‚¨æ¬£è³" },
          { start: 4.5, end: 9.0, text: "I can't make it up......" },
          { start: 9.0, end: 14.0, text: "Enjoy :P" },
        ],
      },
      { title: "æ‹ã‹ã‚‚ã—ã‚Œãªã„ä½•ã‹ã®è©±", src: "music2.flac", subs: [
        { start: 0.0, end: 4.5, text: "æ­¤æ­Œæ›²ç‚ºæ²’æœ‰å¡«è©çš„ç´”éŸ³æ¨‚ï¼Œè«‹æ‚¨æ¬£è³" },
          { start: 4.5, end: 9.0, text: "Soft music let us think more" },
          { start: 9.0, end: 14.0, text: "Enjoy :P" },
        ],
      },
      { title: "æ¾ç”°å½¬äºº - ã“ã‚ŒãŒåƒ•ã‚‰ã®æ—¥å¸¸", src: "music5.flac", subs: [
        { start: 0.0, end: 4.5, text: "æ­¤æ­Œæ›²ç‚ºæ²’æœ‰å¡«è©çš„ç´”éŸ³æ¨‚ï¼Œè«‹æ‚¨æ¬£è³" },
          { start: 4.5, end: 9.0, text: "Soft music ofc better then HipHop" },
          { start: 9.0, end: 14.0, text: "Enjoy :P" },
        ],
      },
      { title: "ã•ã‚“ã†ã•ã - ä¸–ç•Œã¯ç§ã®ãŸã‚ã ã‘ã«", src: "music6.ogg", subs: [
        { start: 0.0, end: 4.5, text: "æ­¤æ­Œæ›²ç‚ºæ²’æœ‰å¡«è©çš„ç´”éŸ³æ¨‚ï¼Œè«‹æ‚¨æ¬£è³" },
          { start: 4.5, end: 9.0, text: "Soft music is the best" },
          { start: 9.0, end: 14.0, text: "Enjoy :P" },
        ],
      },
      {
        title: "Beyond - ä¸å†çŒ¶è±«",
        src: "music7.ogg",
        lrc: "ä¸å†çŠ¹è±«_edited.lrc",
		offset: -1.8
      },
	  {
	    title: "ç½—å¤§ä½‘ - é£›è»Š",
		src: "music8.mp3",
		lrc: "é£è½¦.lrc"
	  },
	  {
	    title: "ç½—å¤§ä½‘/è’‹å¿—å…‰ - çš‡åå¤§é“ä¸œ",
		src: "music9.mp3",
		lrc: "çš‡åå¤§é“ä¸œ.lrc"
	  },
	  {
	    title: "ç½—å¤§ä½‘ - é¦–éƒ½",
		src: "music10.mp3",
		lrc: "é¦–éƒ½.lrc",
		offset: 1.0
	  },

    ];

    let isPlaying = false;
    let isSeeking = false;
    let shuffleOn = true;
    let repeatMode = 0;

    let currentIndex = 0;
    let shuffleBag = [];
    let currentSubs = [];
    let lastLine = "";

    function fmt(t) {
      if (!isFinite(t)) return "0:00";
      const m = Math.floor(t / 60);
      const s = Math.floor(t % 60);
      return `${m}:${String(s).padStart(2, "0")}`;
    }

    function setSubtitleSmooth(text) {
      if (text === lastLine) return;
      lastLine = text;

      subtitleText.classList.add("fading");
      setTimeout(() => {
        subtitleText.textContent = text;
        subtitleText.classList.remove("fading");
      }, 180);
    }

    function updateSubtitle(time) {
      const line = currentSubs.find(s => time >= s.start && time < s.end);
      if (line) {
        subtitleBox.classList.remove("hidden");
        setSubtitleSmooth(line.text);
      } else {
        subtitleBox.classList.add("hidden");
        lastLine = "";
      }
    }

    function fadeTo(target, duration = 500) {
      const start = music.volume;
      const startTime = performance.now();
      target = Math.max(0, Math.min(1, target));

      function tick(now) {
        const t = Math.min(1, (now - startTime) / duration);
        music.volume = start + (target - start) * t;
        if (t < 1) requestAnimationFrame(tick);
      }
      requestAnimationFrame(tick);
    }

    function shuffleArray(arr) {
      for (let i = arr.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [arr[i], arr[j]] = [arr[j], arr[i]];
      }
      return arr;
    }

    function refillShuffleBag() {
      shuffleBag = [...Array(playlist.length).keys()];
      shuffleArray(shuffleBag);
      if (playlist.length > 1 && shuffleBag[0] === currentIndex) {
        const k = shuffleBag.findIndex(x => x !== currentIndex);
        if (k > 0) [shuffleBag[0], shuffleBag[k]] = [shuffleBag[k], shuffleBag[0]];
      }
    }

    function pickNextIndex(direction = +1) {
      if (shuffleOn) {
        if (shuffleBag.length === 0) refillShuffleBag();
        const next = shuffleBag.shift();
        return next;
      }
      const n = playlist.length;
      return (currentIndex + direction + n) % n;
    }

    async function loadTrack(index, { autoplay = false, keepTime = false } = {}) {
      if (index < 0 || index >= playlist.length) return;
      subtitleBox.classList.add("hidden");
      lastLine = "";

      const prevTime = music.currentTime || 0;
      currentIndex = index;

      const track = playlist[currentIndex];
      currentSubs = await getSubsForTrack(track);

      nowPlaying.textContent = `Now Playing: ${track.title}`;
      const targetVol = Number(volume.value);
      if (isPlaying) fadeTo(0, 220);
      await new Promise(r => setTimeout(r, isPlaying ? 240 : 0));
      music.src = track.src;
      music.load();
      if (keepTime) {
        music.addEventListener("loadedmetadata", () => {
          music.currentTime = Math.min(prevTime, music.duration || prevTime);
        }, { once: true });
      }

      if (autoplay) {
        try {
          await music.play();
          isPlaying = true;
          syncUIPlaying(true);
          fadeTo(targetVol, 320);
        } catch (e) {
          console.log("Play blocked:", e);
          isPlaying = false;
          syncUIPlaying(false);
        }
      } else {
        syncUIPlaying(false);
      }
    }

    function syncUIPlaying(on) {
      if (on) {
        bigBtn.classList.remove("is-off");
        bigBtn.classList.add("is-on");
        playBtn.textContent = "â¸";
      } else {
        bigBtn.classList.remove("is-on");
        bigBtn.classList.add("is-off");
        playBtn.textContent = "â–¶";
      }
    }

    function syncShuffleUI() {
      shuffleBtn.classList.toggle("on", shuffleOn);
    }

    function syncRepeatUI() {
      repeatBtn.classList.toggle("on", repeatMode !== 0);
      repeatBtn.textContent = repeatMode === 2 ? "ğŸ”‚" : "ğŸ”";
    }
    const savedVol = localStorage.getItem("vol");
    if (savedVol !== null) {
      volume.value = savedVol;
      music.volume = Number(savedVol);
    } else {
      music.volume = Number(volume.value);
    }

    volume.addEventListener("input", () => {
      const v = Number(volume.value);
      music.volume = v;
      localStorage.setItem("vol", String(v));
    });
    music.addEventListener("loadedmetadata", () => {
      durTime.textContent = fmt(music.duration);
      if (!isSeeking) progress.value = 0;
      curTime.textContent = fmt(music.currentTime);
    });

    progress.addEventListener("input", () => {
      if (!music.duration) return;
      isSeeking = true;
      const t = (Number(progress.value) / 100) * music.duration;
      curTime.textContent = fmt(t);
    });

    progress.addEventListener("change", () => {
      if (!music.duration) return;
      const t = (Number(progress.value) / 100) * music.duration;
      music.currentTime = t;
      isSeeking = false;
      if (isPlaying) updateSubtitle(music.currentTime);
    });

    music.addEventListener("timeupdate", () => {
      if (isPlaying) updateSubtitle(music.currentTime);
      if (!music.duration) return;

      if (!isSeeking) {
        const p = (music.currentTime / music.duration) * 100;
        progress.value = p;
      }
      curTime.textContent = fmt(music.currentTime);
    });

    async function playOrPause() {
      try {
        if (!music.src) {
          if (shuffleOn) refillShuffleBag();
          const first = shuffleOn ? pickNextIndex(+1) : 0;
          await loadTrack(first, { autoplay: true });
          return;
        }

        if (!isPlaying) {
          await music.play();
          isPlaying = true;
          syncUIPlaying(true);
          fadeTo(Number(volume.value), 260);
        } else {
          isPlaying = false;
          syncUIPlaying(false);
          fadeTo(0, 220);
          setTimeout(() => music.pause(), 240);
          subtitleBox.classList.add("hidden");
        }
      } catch (e) {
        console.log("Play blocked:", e);
      }
    }

    async function nextTrack() {
      const next = repeatMode === 2 ? currentIndex : pickNextIndex(+1);
      await loadTrack(next, { autoplay: isPlaying });
    }

    async function prevTrack() {
      if (music.currentTime > 3 && !shuffleOn) {
        music.currentTime = 0;
        return;
      }
      const prev = pickNextIndex(-1);
      await loadTrack(prev, { autoplay: isPlaying });
    }

    music.addEventListener("ended", async () => {
      if (repeatMode === 2) {
        await loadTrack(currentIndex, { autoplay: true });
        return;
      }

      if (repeatMode === 0 && !shuffleOn) {
        if (currentIndex === playlist.length - 1) {
          isPlaying = false;
          syncUIPlaying(false);
          subtitleBox.classList.add("hidden");
          progress.value = 0;
          curTime.textContent = "0:00";
          return;
        }
      }

      const next = pickNextIndex(+1);
      await loadTrack(next, { autoplay: true });
    });
    bigBtn.addEventListener("click", playOrPause);
    playBtn.addEventListener("click", playOrPause);
    nextBtn.addEventListener("click", nextTrack);
    prevBtn.addEventListener("click", prevTrack);

    shuffleBtn.addEventListener("click", () => {
      shuffleOn = !shuffleOn;
      if (shuffleOn) refillShuffleBag();
      syncShuffleUI();
    });

    repeatBtn.addEventListener("click", () => {
      repeatMode = (repeatMode + 1) % 3;
      syncRepeatUI();
    });
    syncUIPlaying(false);
    syncShuffleUI();
    syncRepeatUI();
    nowPlaying.textContent = "Now Playing: -";
    extraContent.style.maxHeight = "0";
    extraContent.setAttribute("aria-hidden", "true");

    fmiBtn.addEventListener("click", () => {
      extraContent.classList.toggle("show");
      arrow.classList.toggle("rotate");

      if (extraContent.classList.contains("show")) {
        extraContent.style.maxHeight = extraContent.scrollHeight + "px";
        extraContent.setAttribute("aria-hidden", "false");
      } else {
        extraContent.style.maxHeight = "0";
        extraContent.setAttribute("aria-hidden", "true");
      }
    });
const people = [
  {
    name: "ã‚¸ãƒ£ãƒ³ã‚¯ãƒ•ãƒ¼ãƒ‰1337",
    subtitle: "I'll introduce myself?",
    hobby: "hobbies? Nah, I just wanna lie on my cozy bed.",
    skills: "I can play a nice HvH game on my dogshit laptop with 30 FPS",
    motto1: "Eat junk food, stay up late, and cheat in games.",
    motto2: "Trust in urself, u are the best!",

    qq: "2073095729",
    email: "yzxdsb123@gmail.com",
    discord: "yyyuuu_38459",
    avatar: "avatar.png",
    bilibili: "https://space.bilibili.com/391436861/upload/video",
    instagram: "https://www.instagram.com/yzxdsb123/",
    x: "https://x.com/Mina1337skeet"
  },
  {
    name: "yazawasaki",
    subtitle: "here is Kevin I'm a Cantonese not hongkongnese I know some English and Cantonese and if you want I can speak Mandarin for you",
    hobby: "Watching anime annnnnnnnnnnnnnnnnd like to play some dogshit cheats for CS2",
    skills: "Still loading...",
    motto1: "No cheat, no life.",
    motto2: "ç§ã¯hungryã®ãƒã‚¬ã ã‚",
    qq: "2141737297",
    email: "ccxhb298@gmail.com",
    discord: "ccxhb",
    avatar: "avatar1.png",
    bilibili: "https://space.bilibili.com/3493121857948256?spm_id_from=333.1007.0.0",
    x: "https://x.com/YazawaSakicn"
  },
  {
    name: "å‘¨é˜²",
    subtitle: "è€å‚»å­",
    hobby: "å–œæ¬¢å”±è·³rapæ‰“ç¯®çƒ",
    skills: "Also nope",
    motto1: "è€å‚»å­æ²’æœ‰åº§å³é“­",
    qq: "1736867100",
    email: "1736867100@qq.com",
    discord: "adafsgf",
    avatar: "avatar2.png",
  }
];

let currentPersonIndex = 0;

const card = document.querySelector(".card");
const cardWrap = document.querySelector(".card-wrap");
const nameEl = document.getElementById("cardName");
const subtitleEl = document.getElementById("cardSubtitle");
const hobbyEl = document.getElementById("cardHobby");
const skillsEl = document.getElementById("cardSkills");
const motto1El = document.getElementById("cardMotto1");
const motto2El = document.getElementById("cardMotto2");
const qqEl = document.getElementById("cardQQ");
const emailEl = document.getElementById("cardEmail");
const discordEl = document.getElementById("cardDiscord");
const avatarEl = document.getElementById("cardAvatar");
const biliEl = document.getElementById("cardBili");
const igEl = document.getElementById("cardIG");
const xEl = document.getElementById("cardX");
    function maskEmail(s){
      const at = (s || "").indexOf("@");
      if (at <= 1) return s || "";
      const name = s.slice(0, at);
      const domain = s.slice(at);
      const keep = Math.min(2, name.length);
      return name.slice(0, keep) + "â€¢â€¢â€¢" + domain;
    }
    function maskMiddle(s){
      s = s || "";
      if (s.length < 5) return s;
      const keepL = 2, keepR = 2;
      return s.slice(0, keepL) + "â€¢â€¢â€¢" + s.slice(-keepR);
    }

function renderPerson(index){
  const p = people[index];
  nameEl.textContent = `Welcome to ${p.name}'s Personal Introduction`;
  subtitleEl.textContent = p.subtitle;
  hobbyEl.textContent = p.hobby;
  skillsEl.textContent = p.skills;
  motto1El.textContent = p.motto1;
  motto2El.textContent = p.motto2;
  qqEl.dataset.full = p.qq || "";
  qqEl.textContent = maskMiddle(p.qq || "");
  emailEl.dataset.full = p.email || "";
  emailEl.textContent = maskEmail(p.email || "");
  discordEl.dataset.full = p.discord || "";
  discordEl.textContent = maskMiddle(p.discord || "");  
  avatarEl.src = p.avatar;
  if (p.bilibili) {
  biliEl.href = p.bilibili;
  biliEl.textContent = "Visit Bilibili";
  biliEl.style.display = "block";
} else {
  biliEl.style.display = "none";
}

if (p.instagram) {
  igEl.href = p.instagram;
  igEl.textContent = "Visit Instagram";
  igEl.style.display = "block";
} else {
  igEl.style.display = "none";
}

if (p.x) {
  xEl.href = p.x;
  xEl.textContent = "Visit X";
  xEl.style.display = "block";
} else {
  xEl.style.display = "none";
}
}

document.getElementById("changePersonBtn").addEventListener("click", () => {
  card.classList.add("fade");
  avatarEl.classList.add("fade-avatar");

  setTimeout(() => {
    currentPersonIndex = (currentPersonIndex + 1) % people.length;
    renderPerson(currentPersonIndex);
    card.classList.remove("fade");
    avatarEl.classList.remove("fade-avatar");
  }, 200);
});
renderPerson(currentPersonIndex);

function maskEmail(s){
  const at = s.indexOf("@");
  if (at <= 1) return s;
  const name = s.slice(0, at);
  const domain = s.slice(at);
  const keep = Math.min(2, name.length);
  return name.slice(0, keep) + "â€¢â€¢â€¢" + domain;
}
function maskMiddle(s){
  if (!s || s.length < 5) return s;
  const keepL = 2, keepR = 2;
  return s.slice(0, keepL) + "â€¢â€¢â€¢" + s.slice(-keepR);
}
function attachCopy(el, getFull){
  if (!el) return;
  el.style.cursor = "pointer";
  el.addEventListener("click", async () => {
    const text = (typeof getFull === "function" ? getFull() : el.dataset.full || el.textContent || "").trim();
    if (!text) return;
    try{
      await navigator.clipboard.writeText(text);
      const old = el.textContent;
      el.textContent = "å·²è¤‡è£½ âœ…";
      setTimeout(() => { el.textContent = old; }, 650);
    }catch(e){
      const ta = document.createElement("textarea");
      ta.value = text;
      document.body.appendChild(ta);
      ta.select();
      document.execCommand("copy");
      document.body.removeChild(ta);
    }
  });
}
let mx = 0, my = 0, ticking = false;
document.addEventListener("mousemove", (e) => {
  mx = e.pageX; my = e.pageY;
  if (ticking) return;
  ticking = true;
  requestAnimationFrame(() => {
    const x = (window.innerWidth / 2 - mx) / 40;
    const y = (window.innerHeight / 2 - my) / 40;
    card.style.setProperty("--rx", `${y}deg`);
    card.style.setProperty("--ry", `${-x}deg`);
    ticking = false;
  });
});
attachCopy(qqEl, () => people[currentPersonIndex]?.qq || qqEl.dataset.full || qqEl.textContent);
attachCopy(emailEl, () => people[currentPersonIndex]?.email || emailEl.dataset.full || emailEl.textContent);
attachCopy(discordEl, () => people[currentPersonIndex]?.discord || discordEl.dataset.full || discordEl.textContent);

</script>

</body>
</html>








